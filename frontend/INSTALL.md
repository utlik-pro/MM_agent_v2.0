# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd frontend
npm install
```

### 2. –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞ (–∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏)
cd ..
python agent.py http

# –ó–∞–ø—É—Å–∫ frontend (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm run dev
```

### 3. –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ–º–æ

–û—Ç–∫—Ä–æ–π—Ç–µ `example.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
- Frontend: http://localhost:3000
- Demo: –æ—Ç–∫—Ä–æ–π—Ç–µ `example.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
# –°–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
npm run preview
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

–í —Ñ–∞–π–ª–µ `src/main.tsx` –∏–∑–º–µ–Ω–∏—Ç–µ:

```typescript
const widgetConfig = {
  tokenEndpoint: 'https://yourdomain.com/get-token', // –í–∞—à –¥–æ–º–µ–Ω
  roomName: 'minsk-world-voice-room',
};
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CORS

–í —Ñ–∞–π–ª–µ `agent.py` –æ–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```python
@web.middleware
async def cors_middleware(request, handler):
    # ... existing code ...
    resp.headers['Access-Control-Allow-Origin'] = 'https://yourdomain.com'
    # ... rest of the code ...
```

## üì± –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥

```bash
npm run build
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É dist/ –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Vercel

```bash
npm i -g vercel
vercel --prod
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Netlify

```bash
npm i -g netlify-cli
netlify deploy --prod --dir=dist
```

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl -X GET http://localhost:8765/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
curl -X POST http://localhost:8765/get-token \
  -H "Content-Type: application/json" \
  -d '{"identity": "test-user", "room": "test-room"}'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Console –Ω–∞ –æ—à–∏–±–∫–∏
3. –í–æ –≤–∫–ª–∞–¥–∫–µ Network –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/get-token`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω —Ä–∞–∑—Ä–µ—à–µ–Ω

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Python 3.8+
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebRTC
- HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞)

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ "Microphone permission denied"

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –°–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É
- –ú–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏

### 2. –û—à–∏–±–∫–∞ "Failed to get access token"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ó–∞–ø—É—â–µ–Ω –ª–∏ backend —Å–µ—Ä–≤–µ—Ä
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤ `tokenEndpoint`
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `agent.py`

### 3. –û—à–∏–±–∫–∞ "Connection failed"

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- LiveKit —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ –≤ `.env`
- –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ WebRTC —Ç—Ä–∞—Ñ–∏–∫–∞

### 4. –í–∏–¥–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å src –≤ iframe
- –ù–µ—Ç –ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ iframe —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
2. **–û–±–Ω–æ–≤–∏—Ç–µ CORS** - —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
3. **–ó–∞—â–∏—Ç–∏—Ç–µ API –∫–ª—é—á–∏** - –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –≤ –∫–ª–∏–µ–Ω—Ç
4. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –Ω–∞ backend
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CSP** - Content Security Policy

### –ü—Ä–∏–º–µ—Ä CSP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:

```
Content-Security-Policy: default-src 'self'; 
  connect-src 'self' wss://your-livekit-server.com; 
  media-src *; 
  frame-src 'self' https://your-widget-domain.com;
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
const handleStateChange = (state) => {
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
  analytics.track('voice_widget_state', {
    isConnected: state.isConnected,
    error: state.error,
    timestamp: new Date().toISOString()
  });
};
```

### –ú–µ—Ç—Ä–∏–∫–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –í—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/styles/index.css`:

```css
:root {
  --voice-primary: #your-color;
  --voice-secondary: #your-secondary-color;
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤

–í iframe –∫–æ–¥–µ –∏–∑–º–µ–Ω–∏—Ç–µ:

```html
<iframe 
  style="width: 300px; height: 150px;"
  ...
></iframe>
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Console
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

**–£–¥–∞—á–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π! üéâ** 