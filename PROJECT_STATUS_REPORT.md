# MinskMir Voice Agent - –û—Ç—á–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
- ‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π** –ø—Ä–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–∏
- ‚úÖ **–†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–∞–º–æ–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è** –∞–≥–µ–Ω—Ç–∞
- ‚úÖ **–£—Å–∫–æ—Ä–µ–Ω–∞ RAG —Å–∏—Å—Ç–µ–º–∞** - —Ç–∞–π–º–∞—É—Ç 10 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 39+ —Å–µ–∫
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã** –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ **–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–Ω** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### üìÅ –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `agent.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- `prompts.py` - –Ω–æ–≤—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
- `VOICE_AGENT_TEST_PLAN.md` - –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üöß –í –†–ê–ë–û–¢–ï

### üéØ –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ TODO):
1. **google-realtime-integration** - ‚úÖ –ß–ê–°–¢–ò–ß–ù–û: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Gemini 2.0 —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **auto-disconnect-feature** - ‚è≥ –ö–†–ò–¢–ò–ß–ù–û: –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫ –º–æ–ª—á–∞–Ω–∏—è
3. **crm-webhook-integration** - ‚è≥ –ö–†–ò–¢–ò–ß–ù–û: CRM webhook –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
4. **female-voice-setup** - ‚úÖ –ì–û–¢–û–í–û: –ù–∞—Å—Ç—Ä–æ–µ–Ω –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å Aoede
5. **appointment-booking** - üîÑ –í –ü–†–û–¶–ï–°–°–ï: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞, –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –ü–†–ò–û–†–ò–¢–ï–¢–´

### 1. üö® –ö–†–ò–¢–ò–ß–ù–û - –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ (auto-disconnect-feature)
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –º–æ–ª—á–∞–Ω–∏—è
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã –¥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VAD (Voice Activity Detection)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `agent.py` - –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ç–∞–π–º–µ—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LiveKit VAD –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 2. üö® –ö–†–ò–¢–ò–ß–ù–û - CRM Webhook (crm-webhook-integration)
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Webhook endpoint –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ü–æ–ª—è: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏, –∏–Ω—Ç–µ—Ä–µ—Å—ã (4-5 –ø–æ–ª–µ–π)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ù–æ–≤—ã–π —Ñ–∞–π–ª `crm_webhook.py`
- –û–±–Ω–æ–≤–∏—Ç—å `agent.py` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ webhook

### 3. üìù –î–æ—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –ø—Ä–∏–µ–º (appointment-booking)
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–æ—Ç–æ–≤–∞  
**–î–æ—Ä–∞–±–æ—Ç–∫–∏:**
- –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- –í—ã–±–æ—Ä –æ—Ñ–∏—Å–∞ (–ª–æ–∫–∞—Ü–∏–∏)
- –°–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM webhook

### 4. üßπ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ (code-refactoring)
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ  
**–ó–∞–¥–∞—á–∏:**
- –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ–∞–π–ª—ã
- –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---------|--------|----------|-----------|
| Google Real-time API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 90% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| –ñ–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å Aoede | ‚úÖ –ì–æ—Ç–æ–≤–æ | 100% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| RAG —Å–∏—Å—Ç–µ–º–∞ MinskMir | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 95% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 100% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ—É–Ω–∫—Ü–∏–π | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 95% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ | ‚ùå –ù–µ —Å–¥–µ–ª–∞–Ω–æ | 0% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| CRM webhook | ‚ùå –ù–µ —Å–¥–µ–ª–∞–Ω–æ | 0% | –ö—Ä–∏—Ç–∏—á–Ω–æ |
| –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∏–µ–º | üîÑ –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è | 40% | –í—ã—Å–æ–∫–∏–π |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | üîÑ –ß–∞—Å—Ç–∏—á–Ω–æ | 30% | –°—Ä–µ–¥–Ω–∏–π |

## üöÄ –ü–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é

### –®–∞–≥ 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `VOICE_AGENT_TEST_PLAN.md`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 6 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ

### –®–∞–≥ 2: –ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ (1-2 –¥–Ω—è)
```python
# –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –∞–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏—è
async def setup_auto_disconnect():
    silence_timer = 5.0  # —Å–µ–∫—É–Ω–¥
    warning_time = 2.0   # –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 2 —Å–µ–∫
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è VAD –∏ —Ç–∞–π–º–µ—Ä–æ–≤
```

### –®–∞–≥ 3: CRM Webhook (1 –¥–µ–Ω—å)
```python
# –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è CRM
async def send_to_crm(client_data):
    webhook_url = os.getenv('CRM_WEBHOOK_URL')
    data = {
        'name': client_data.name,
        'phone': client_data.phone,
        'appointment_time': client_data.time,
        'interest': client_data.interest,
        'source': 'voice_agent'
    }
    # –û—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞
```

### –®–∞–≥ 4: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üîç –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã

### üö® –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫:
- **–ê–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ**: –°–ª–æ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LiveKit VAD
- **CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ù—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π endpoint –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫:
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù—É–∂–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å RAG —Å–∏—Å—Ç–µ–º—ã
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: LiveKit Agents docs
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Google Gemini Real-time API
- **RAG —Å–∏—Å—Ç–µ–º–∞**: LlamaIndex –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–î–µ–ø–ª–æ–π–Ω–æ—Å—Ç—å**: Dokploy + GitHub + Vercel

---
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** $(date)  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 2.0-beta  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞